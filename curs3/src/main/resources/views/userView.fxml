<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox prefHeight="600.0" prefWidth="600.0" spacing="10" stylesheets="/style/appStyle.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ubb.scs.map.controllers.UserController">
    <Label fx:id="welcomeLabel" alignment="CENTER" style="-fx-font-size: 16px; -fx-font-weight: bold;" />

    <TabPane prefHeight="550.0" prefWidth="600.0" tabClosingPolicy="UNAVAILABLE">
        <tabs>
            <Tab text="Friends">
                <content>
                    <VBox alignment="CENTER" spacing="10">
                        <HBox alignment="CENTER" spacing="10">
                            <VBox spacing="5">
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Friends List" />
                                <TableView fx:id="friendsTable" prefWidth="350.0">
                                    <columns>
                                        <TableColumn fx:id="friendColumnUsername" prefWidth="120.0" text="Username" />
                                        <TableColumn fx:id="friendColumnFirstName" prefWidth="120.0" text="First Name" />
                                        <TableColumn fx:id="friendColumnLastName" prefWidth="120.0" text="Last Name" />
                                    </columns>
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                </TableView>
                            </VBox>
                            <VBox spacing="5">
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Available Users" />
                                <TableView fx:id="usersTable" prefWidth="350.0">
                                    <columns>
                                        <TableColumn fx:id="userColumnUsername" prefWidth="120.0" text="Username" />
                                        <TableColumn fx:id="userColumnFirstName" prefWidth="120.0" text="First Name" />
                                        <TableColumn fx:id="userColumnLastName" prefWidth="120.0" text="Last Name" />
                                    </columns>
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                </TableView>
                            </VBox>
                        </HBox>
                        <HBox alignment="CENTER" spacing="10">
                            <Button fx:id="buttonRemoveFriend" mnemonicParsing="false" onAction="#handleRemoveFriend" text="Remove Friend" />
                            <Button fx:id="buttonSendFriendRequest" mnemonicParsing="false" onAction="#handleSendRequest" text="Send request" />
                        </HBox>
                    </VBox>
                </content>
            </Tab>

            <Tab text="Manage Sent Requests">
                <content>
                    <VBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Sent Friend Requests" />
                        <TableView fx:id="sentFriendRequestsTable" prefWidth="350.0">
                            <columns>
                                <TableColumn fx:id="sentFriendRequestsFirstName" prefWidth="120.0" text="First Name" />
                                <TableColumn fx:id="sentFriendRequestsLastName" prefWidth="120.0" text="Last Name" />
                                <TableColumn fx:id="sentFriendRequestsDate" prefWidth="120.0" text="Date" />
                                <TableColumn fx:id="sentFriendRequestsStatus" prefWidth="120.0" text="Status" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                        <Button fx:id="buttonDeleteFriendRequest" mnemonicParsing="false" onAction="#handleDeleteFriendRequest" text="Delete Friend Request" />
                    </VBox>
                </content>
            </Tab>

            <Tab text="Manage Received Requests">
                <content>
                    <VBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Received Friend Requests" />
                        <TableView fx:id="receivedFriendRequestsTable" prefWidth="350.0">
                            <columns>
                                <TableColumn fx:id="receivedFriendRequestsFirstName" prefWidth="120.0" text="First Name" />
                                <TableColumn fx:id="receivedFriendRequestsLastName" prefWidth="120.0" text="Last Name" />
                                <TableColumn fx:id="receivedFriendRequestsDate" prefWidth="120.0" text="Date" />
                                <TableColumn fx:id="receivedFriendRequestsStatus" prefWidth="120.0" text="Status" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                        <HBox alignment="CENTER" spacing="10">
                            <Button fx:id="buttonAcceptFriendRequest" mnemonicParsing="false" onAction="#handleAcceptFriendRequest" text="Accept" />
                            <Button fx:id="buttonDeclineFriendRequest" mnemonicParsing="false" onAction="#handleDeclineFriendRequest" text="Decline" />
                        </HBox>
                    </VBox>
                </content>
            </Tab>

            <Tab text="Account settings">
                <content>
                    <VBox alignment="CENTER" spacing="10">
                        <Button fx:id="buttonLogOut" onAction="#handleLogOut" text="Log out" />
                        <Button fx:id="buttonDeleteAccount" onAction="#handleDeleteAccount" text="Delete Account" />
                    </VBox>
                </content>
            </Tab>

            <Tab text="Messages">
                <SplitPane prefHeight="550.0" prefWidth="800.0" dividerPositions="0.3">
                    <!-- Prietenii utilizatorului -->
                    <VBox prefWidth="250.0" spacing="10">
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Friends" />
                        <ListView fx:id="friendsList" onMouseClicked="#handleFriendSelection" prefHeight="500.0" />
                    </VBox>

                    <!-- Chat-ul -->
                    <VBox prefWidth="550.0" spacing="10">
                        <Label fx:id="chatWithLabel" style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Select a friend to chat with" />
                        <TextArea fx:id="chatTextArea" prefHeight="400.0" editable="false" wrapText="true" />
                        <HBox spacing="10">
                            <TextField fx:id="messageTextField" promptText="Type a message..." />
                            <Button fx:id="buttonSendMessage" text="Send" onAction="#handelSendMessage" />
                        </HBox>
                    </VBox>
                </SplitPane>
            </Tab>
        </tabs>
    </TabPane>

    <Label fx:id="messageToUser" alignment="CENTER" />
   <VBox prefHeight="200.0" prefWidth="100.0" />
</VBox>
