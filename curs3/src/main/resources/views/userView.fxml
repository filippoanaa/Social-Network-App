<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox prefHeight="600.0" prefWidth="600.0" spacing="10" stylesheets="/style/appStyle.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ubb.scs.map.controllers.UserController">
    <Label fx:id="welcomeLabel" alignment="CENTER" style="-fx-font-size: 16px; -fx-font-weight: bold;" />

    <TabPane prefHeight="550.0" prefWidth="600.0" tabClosingPolicy="UNAVAILABLE">
        <tabs>
            <Tab text="Friends">
                <content>
                    <VBox alignment="CENTER" spacing="10">
                        <HBox alignment="CENTER" spacing="10">
                            <VBox spacing="5">
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Friends List" />
                                <TableView fx:id="friendsTable" prefWidth="350.0">
                                    <columns>
                                        <TableColumn fx:id="friendColumnUsername" prefWidth="120.0" text="Username" />
                                        <TableColumn fx:id="friendColumnFirstName" prefWidth="120.0" text="First Name" />
                                        <TableColumn fx:id="friendColumnLastName" prefWidth="120.0" text="Last Name" />
                                    </columns>
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                </TableView>

                                <HBox spacing="5">
                                    <Button fx:id="buttonPreviousFT" layoutX="85.0" layoutY="299.0" mnemonicParsing="false" onAction="#onPreviousPageFT" text="Previous" />
                                    <Label fx:id="labelPageFT"  />
                                    <Button fx:id="buttonNextFT" layoutX="347.0" layoutY="299.0" mnemonicParsing="false" onAction="#onNextPageFT" text="Next" />
                                </HBox>

                            </VBox>
                            <VBox spacing="5">
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Available Users" />
                                <TableView fx:id="usersTable" prefHeight="322.0" prefWidth="268.0">
                                    <columns>
                                        <TableColumn fx:id="userColumnUsername" prefWidth="120.0" text="Username" />
                                        <TableColumn fx:id="userColumnFirstName" prefWidth="120.0" text="First Name" />
                                        <TableColumn fx:id="userColumnLastName" prefWidth="120.0" text="Last Name" />
                                    </columns>
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                </TableView>

                            </VBox>
                        </HBox>
                        <HBox alignment="CENTER" spacing="10">
                            <Button fx:id="buttonRemoveFriend" mnemonicParsing="false" onAction="#handleRemoveFriend" text="Remove Friend" />
                            <Button fx:id="buttonSendFriendRequest" mnemonicParsing="false" onAction="#handleSendRequest" text="Send request" />
                        </HBox>
                    </VBox>
                </content>
            </Tab>

            <Tab text="Manage Sent Requests">
                <content>
                    <VBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Sent Friend Requests" />
                        <TableView fx:id="sentFriendRequestsTable" prefWidth="350.0">
                            <columns>
                                <TableColumn fx:id="sentFriendRequestsFirstName" prefWidth="120.0" text="First Name" />
                                <TableColumn fx:id="sentFriendRequestsLastName" prefWidth="120.0" text="Last Name" />
                                <TableColumn fx:id="sentFriendRequestsDate" prefWidth="120.0" text="Date" />
                                <TableColumn fx:id="sentFriendRequestsStatus" prefWidth="120.0" text="Status" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                        <Button fx:id="buttonDeleteFriendRequest" mnemonicParsing="false" onAction="#handleDeleteFriendRequest" text="Delete Friend Request" />
                    </VBox>
                </content>
            </Tab>

            <Tab text="Manage Received Requests">
                <content>
                    <VBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Received Friend Requests" />
                        <TableView fx:id="receivedFriendRequestsTable" prefWidth="350.0">
                            <columns>
                                <TableColumn fx:id="receivedFriendRequestsFirstName" prefWidth="120.0" text="First Name" />
                                <TableColumn fx:id="receivedFriendRequestsLastName" prefWidth="120.0" text="Last Name" />
                                <TableColumn fx:id="receivedFriendRequestsDate" prefWidth="120.0" text="Date" />
                                <TableColumn fx:id="receivedFriendRequestsStatus" prefWidth="120.0" text="Status" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                        <HBox alignment="CENTER" spacing="10">
                            <Button fx:id="buttonAcceptFriendRequest" mnemonicParsing="false" onAction="#handleAcceptFriendRequest" text="Accept" />
                            <Button fx:id="buttonDeclineFriendRequest" mnemonicParsing="false" onAction="#handleDeclineFriendRequest" text="Decline" />
                        </HBox>
                    </VBox>
                </content>
            </Tab>

            <Tab text="Messages">
                <SplitPane dividerPositions="0.3" prefHeight="550.0" prefWidth="800.0">
                    <VBox prefWidth="250.0" spacing="10">
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Inbox" />
                        <ListView fx:id="usersList" onMouseClicked="#handleFriendSelection" prefHeight="172.0" prefWidth="177.0" />


                  <Label prefHeight="17.0" prefWidth="179.0" text="Send message to multiple users">
                     <font>
                        <Font name="System Bold" size="10.0" />
                     </font>
                  </Label>
                        <ListView fx:id="multiUserSelectionList" prefHeight="221.0" prefWidth="177.0" />

                    </VBox>

                    <VBox prefWidth="550.0" spacing="10">
                        <Label fx:id="chatWithLabel" style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Select a friend to chat with" />
                        <ListView fx:id="messagesList" />
                        <HBox spacing="10">
                            <TextField fx:id="messageTextField" promptText="Type a message..." />
                            <Button fx:id="buttonSendMessage" onAction="#handleSendMessage" text="Send" />
                             <Button fx:id="buttonDeleteConversation" mnemonicParsing="false" onAction="#handleDeleteConversation" prefHeight="25.0" prefWidth="171.0" text="Delete conversation" />
                        </HBox>
                    </VBox>
                </SplitPane>
            </Tab>

            <Tab text="Account settings">
                <content>
                    <VBox alignment="CENTER" spacing="10">
                        <Button fx:id="buttonLogOut" onAction="#handleLogOut" text="Log out" />
                        <Button fx:id="buttonDeleteAccount" onAction="#handleDeleteAccount" text="Delete Account" />
                    </VBox>
                </content>
            </Tab>

        </tabs>
    </TabPane>

    <Label fx:id="messageToUser" alignment="CENTER" />
   <VBox prefHeight="200.0" prefWidth="100.0" />
</VBox>
